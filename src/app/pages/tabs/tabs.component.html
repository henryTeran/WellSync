@if (user$ | async; as user) {
  @if (user.isAnonymous) {
    <ion-chip color="warning">
      <ion-icon name="flask-outline" slot="start"></ion-icon>
      <ion-label>Mode test actif</ion-label>
    </ion-chip>
  }

  <ion-tabs>
    <ion-tab-bar slot="bottom">
      <ion-tab-button [tab]="'emotions/live'">
        <ion-icon name="camera-outline"></ion-icon>
        Emotions
      </ion-tab-button>

      @if (user?.uid) {
        <ion-tab-button [tab]="'dashboard/' + user.uid">
          <ion-icon name="apps-outline"></ion-icon>
          Dashboard
        </ion-tab-button>
      }

      <ion-tab-button [tab]="'home'">
        <ion-icon name="home-outline"></ion-icon>
        Home
      </ion-tab-button>

      <ion-tab-button [tab]="'chat'">
        <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
        IA Chat
      </ion-tab-button>

      @if (!user || user.isAnonymous || !user.email) {
        <ion-tab-button [tab]="'login'">
          <ion-icon name="log-in-outline"></ion-icon>
          Log-in
        </ion-tab-button>
      } @else {
        <ion-tab-button [tab]="'logout'" (click)="logout()">
          <ion-icon name="log-out-outline"></ion-icon>
          Log-out
        </ion-tab-button>
      }
    </ion-tab-bar>
  </ion-tabs>
} @else {
  <ion-content class="ion-padding">
    <ion-spinner name="crescent"></ion-spinner>
    <p class="ion-text-center">Chargement...</p>
  </ion-content>
}