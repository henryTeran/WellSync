<h2>ğŸ½ï¸ Questionnaire â€“ Diagnostic Alimentation</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()">

  <!-- 1. DonnÃ©es de base -->
  <fieldset>
    <legend>âš–ï¸ 1. DonnÃ©es de base</legend>
    <label>Poids (kg): <input type="number" formControlName="poids" /></label><br />
    <label>Taille (cm): <input type="number" formControlName="taille" /></label><br />
    <label>Ã‚ge: <input type="number" formControlName="age" /></label><br />
    <label>Sexe :</label><br />
    @for (sexe of sexes; track sexe) {
      <label><input type="radio" [value]="sexe" formControlName="sexe" /> {{ sexe }}</label>
    }
  </fieldset>

  <!-- 2. Objectifs -->
  <fieldset>
    <legend>ğŸ¯ 2. Objectif principal</legend>
    @for (obj of objectifs; track obj) {
      <label>
        <input type="checkbox" [value]="obj" (change)="onCheckboxChange($event, 'objectifs')" />
        {{ obj }}
      </label>
    }
    <div>
      <label>Autre : <input type="text" formControlName="autresObjectifs" /></label>
    </div>
  </fieldset>

  <!-- 3. PrÃ©fÃ©rence de recommandation -->
  <fieldset>
    <legend>ğŸ§  3. PrÃ©fÃ©rence sur la recommandation</legend>
    @for (pref of preferencesRecommandation; track pref) {
      <label>
        <input type="radio" [value]="pref" formControlName="preferenceRecommandation" />
        {{ pref }}
      </label>
    }
  </fieldset>

  <!-- 4. RÃ©gimes spÃ©cifiques -->
  <fieldset>
    <legend>ğŸ¥— 4. RÃ©gime alimentaire spÃ©cifique</legend>
    @for (regime of regimes; track regime) {
      <label>
        <input type="checkbox" [value]="regime" (change)="onCheckboxChange($event, 'regimes')" />
        {{ regime }}
      </label>
    }
    <div>
      <label>Autre : <input type="text" formControlName="autresRegimes" /></label>
    </div>
  </fieldset>

  <!-- 5. Aliments Ã  Ã©viter -->
  <fieldset>
    <legend>âŒ 5. Aliments Ã  Ã©viter</legend>
    <textarea formControlName="alimentsAEviter" placeholder="IntolÃ©rances, allergies, goÃ»ts..."></textarea>
  </fieldset>

  <!-- 6. Temps de prÃ©paration -->
  <fieldset>
    <legend>ğŸ³ 6. Temps de prÃ©paration des repas</legend>
    @for (temps of tempsPreparation; track temps) {
      <label>
        <input type="radio" [value]="temps" formControlName="tempsPreparation" />
        {{ temps }}
      </label>
    }
  </fieldset>

  <!-- 7. Nombre de repas -->
  <fieldset>
    <legend>ğŸ“… 7. Nombre de repas par jour</legend>
    @for (repas of nbRepasJour; track repas) {
      <label>
        <input type="radio" [value]="repas" formControlName="nbRepasJour" />
        {{ repas }}
      </label>
    }
  </fieldset>

  <!-- 8. Grignotage -->
  <fieldset>
    <legend>ğŸ§ƒ 8. Grignotage ou encas ?</legend>
    @for (g of grignotages; track g) {
      <label>
        <input type="radio" [value]="g" formControlName="grignotage" /> {{ g }}
      </label>
    }
    <div>
      <label>Si oui, quels types ? <input type="text" formControlName="typeGrignotage" /></label>
    </div>
  </fieldset>

  <!-- 9. Horaires -->
  <fieldset [formGroup]="horairesFormGroup">
    <legend>â±ï¸ 9. Horaires des repas</legend>
    <label>Petit-dÃ©jeuner : <input type="time" formControlName="petitDejeuner" /></label><br />
    <label>DÃ©jeuner : <input type="time" formControlName="dejeuner" /></label><br />
    <label>DÃ®ner : <input type="time" formControlName="diner" /></label>
  </fieldset>

  <!-- 10. Notifications -->
  <fieldset>
    <legend>ğŸ”” 10. Souhaites-tu recevoir des rappels ?</legend>
    <label><input type="radio" value="oui" formControlName="rappels" /> Oui</label>
    <label><input type="radio" value="non" formControlName="rappels" /> Non</label>
  </fieldset>

  <!-- 11. Remarques -->
  <fieldset>
    <legend>ğŸ—’ï¸ 11. Remarques</legend>
    <textarea formControlName="remarques" placeholder="Remarques ou besoins particuliers..."></textarea>
  </fieldset>

  <button type="submit" [disabled]="isLoading">Envoyer</button>
</form>
